<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.paichi.modules.recipeOrders.mapper.UserOrdersMapper">

    <!--获取用户菜单-->
    <select id="getUserOrder" parameterType="String" resultType="UserOrders">
        select USER_ORDERS_ID, USER_ID, USER_ORDERS_TITLE, USER_ORDERS_CONTENT,
               POPULARITY, LIKES, LAST_UPDATE_DATE, CREATE_TIME
        from USER_ORDERS
        where USER_ID = #{userId}
    </select>

    <!--创建用户菜单-->
    <insert id="insertUserOrder" parameterType="UserOrders">
        insert into
        USER_ORDERS
        <trim prefix="(" suffix=")" suffixOverrides=",">
            USER_ORDERS_ID,
            USER_ID,
            <if test="userOrdersTitle != null and userOrdersTitle != ''">
                USER_ORDERS_TITLE,
            </if>
            <if test="userOrdersContent != null and userOrdersContent != ''">
                USER_ORDERS_CONTENT,
            </if>
            <if test="popularity != null">
                POPULARITY,
            </if>
            <if test="likes != null">
                LIKES,
            </if>
            LAST_UPDATE_DATE,
            CREATE_TIME
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{userOrdersId},
            #{userId},
            <if test="userOrdersTitle != null and userOrdersTitle != ''">
                #{userOrdersTitle},
            </if>
            <if test="userOrdersContent != null and userOrdersContent != ''">
                #{userOrdersContent},
            </if>
            <if test="popularity != null">
                #{popularity, jdbcType=NUMERIC},
            </if>
            <if test="likes != null">
                #{likes, jdbcType=NUMERIC},
            </if>
            #{lastUpdateDate},
            #{createTime}
        </trim>
    </insert>
</mapper>
